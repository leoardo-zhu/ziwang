(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{197:function(e,t,a){e.exports=a(379)},202:function(e,t,a){},362:function(e,t,a){},363:function(e,t,a){},371:function(e,t,a){},372:function(e,t){},373:function(e,t,a){},379:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(8),i=a.n(l),c=(a(202),a(87)),o=a(55),s=a(34),m=a(35),u=a(37),d=a(36),p=a(38),f=a(383),h=a(380),E=a(88),b=a(391),v=a(392),g=a(387),y=a(390),j=a(384),O=a(48),w=new Headers({"Content-Type":"application/json"}),I=function(e,t,a){return new Promise(function(n,r){fetch("http://10.129.235.5:9000"+e,{method:t,headers:w,body:JSON.stringify(a)}).then(function(e){return e.json()}).then(function(e){return e.flag?n(e):r(e)})})},k=function(e,t){return I(e,"GET",t)},x=a(179),C=a.n(x).a.get("TokenKey")||"eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxMTMyNjIyOTA1NjI1MTUzNTM2Iiwic3ViIjoi5bCP6b6Z6b6ZIiwiaWF0IjoxNTYxMzY5ODk3LCJleHAiOjE1NjMyOTU3MzAsInJvbGUiOiJhZG1pbiJ9.EQur_1AEgL8eCuQvuJYnu7KZqIgdr4NFL6CKxG6ShSI",N=function(e){return I("/user","PUT",e)},S=a(180),D={user:{}},T=Object(S.a)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;return"change_userInfo"===t.type?{user:t.value}:"set_userInfo"===t.type?t.value:e},window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),A=a(11),L=a.n(A),U=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).changeUserInfo=function(){return e.setState(Object(E.a)({},T.getState()))},e.showDrawer=function(){e.setState({visible:!0})},e.onClose=function(){e.setState({visible:!1})},e.onSubmit=function(){var t=e.props.form,a=t.validateFields,n=t.getFieldsValue,r=Object(E.a)({},e.state.user,n()),l={type:"change_userInfo",value:Object(E.a)({},r,{birthday:r.birthday.format("YYYY-MM-DD")})};a(function(t){t||N(r).then(function(){e.onClose(),T.dispatch(l),b.a.success("\u4fee\u6539\u4fe1\u606f\u6210\u529f\uff01")}).catch(function(e){return b.a.error(e.message)})})},e.state=Object(E.a)({visible:!1},T.getState()),T.subscribe(e.changeUserInfo),e}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.state.user;return r.a.createElement("div",null,r.a.createElement("a",{href:"javascript:void(0)",className:"edit-info",onClick:this.showDrawer},"\u4fee\u6539\u8d44\u6599"),r.a.createElement(v.a,{title:"\u4fee\u6539\u8d44\u6599",width:350,onClose:this.onClose,visible:this.state.visible,maskClosable:!1},r.a.createElement(f.a,{labelCol:{span:4},wrapperCol:{span:18}},r.a.createElement(f.a.Item,{label:"\u8d26\u53f7"},r.a.createElement("span",{className:"ant-form-text"},t.username)),r.a.createElement(f.a.Item,{label:"\u624b\u673a\u53f7"},r.a.createElement("span",{className:"ant-form-text"},t.mobile)),r.a.createElement(f.a.Item,{label:"\u6635\u79f0"},e("nickname",{initialValue:t.nickname,rules:[{required:!0,message:"\u6635\u79f0\u662f\u5fc5\u987b\u8981\u586b\u7684\u5594"}]})(r.a.createElement(g.a,{autoComplete:"off"}))),r.a.createElement(f.a.Item,{label:"\u6027\u522b"},e("sex",{initialValue:t.sex||3})(r.a.createElement(y.a.Group,null,r.a.createElement(y.a,{value:1},"\u7537"),r.a.createElement(y.a,{value:2},"\u5973"),r.a.createElement(y.a,{value:3},"\u4fdd\u5bc6")))),r.a.createElement(f.a.Item,{label:"\u90ae\u7bb1"},e("email",{initialValue:t.email,rules:[{type:"email",message:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u90ae\u7bb1\u683c\u5f0f"}]})(r.a.createElement(g.a,{autoComplete:"off"}))),r.a.createElement(f.a.Item,{label:"\u751f\u65e5"},e("birthday",{initialValue:L()(t.birthday)})(r.a.createElement(j.a,null))),r.a.createElement(f.a.Item,{label:"\u804c\u4e1a"},e("job",{initialValue:t.job})(r.a.createElement(g.a,{autoComplete:"off"}))),r.a.createElement(f.a.Item,{label:"\u5730\u5740"},e("address",{initialValue:t.address})(r.a.createElement(g.a.TextArea,{autosize:{minRows:2,maxRows:6}})))),r.a.createElement("div",{style:{position:"absolute",left:0,bottom:0,width:"100%",borderTop:"1px solid #e9e9e9",padding:"10px 16px",background:"#fff",textAlign:"right"}},r.a.createElement(O.a,{onClick:this.onClose,style:{marginRight:8}},"\u53d6\u6d88"),r.a.createElement(O.a,{onClick:this.onSubmit,type:"primary"},"\u4fdd\u5b58"))))}}]),t}(r.a.Component),_=a(388),M=a(9),z=a(385),J=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).modify=function(){},e.state={visible:!1},e}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.state.visible;return r.a.createElement("div",{className:"avatar"},r.a.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.setState({visible:!0})}},"\u4fee\u6539\u5934\u50cf"),r.a.createElement(_.a,{width:300,visible:t,onCancel:function(){return e.setState({visible:!1})},cancelText:"\u53d6\u6d88"},r.a.createElement(V,null)))}}]),t}(r.a.Component);for(var V=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1},a.handleChange=function(e){"uploading"!==e.file.status?"done"===e.file.status&&function(e,t){var a=new FileReader;a.addEventListener("load",function(){return t(a.result)}),a.readAsDataURL(e)}(e.file.originFileObj,function(e){return a.setState({imageUrl:e,loading:!1})}):a.setState({loading:!0})},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=r.a.createElement("div",null,r.a.createElement(M.a,{type:this.state.loading?"loading":"plus"}),r.a.createElement("div",{className:"ant-upload-text"},"Upload")),t=this.state.imageUrl;return r.a.createElement(z.a,{name:"avatar",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",onChange:this.handleChange},t?r.a.createElement("img",{src:t,alt:"avatar"}):e)}}]),t}(r.a.Component),X=J,Y=(a(362),function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).changeUserInfo=function(){e.setState(T.getState())},e.state=T.getState(),T.subscribe(e.changeUserInfo),e}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;k("/user/token/".concat(C)).then(function(t){var a={user:t.data},n={type:"set_userInfo",value:a};T.dispatch(n),e.setState(a)})}},{key:"render",value:function(){var e=this.state.user,t=f.a.create()(U),a="\u4fdd\u5bc6";return 1===e.sex?a="\u7537":2===e.sex&&(a="\u5973"),r.a.createElement("div",{className:"user-info"},r.a.createElement("div",{className:"title"},"\u4e2a\u4eba\u8d44\u6599"),r.a.createElement("div",{className:"info"},r.a.createElement("div",{className:"photo"},r.a.createElement(h.a,{size:100,src:e.avatar}),r.a.createElement(X,null)),r.a.createElement("div",{className:"user"},r.a.createElement(t,null),r.a.createElement("p",null,"\u8d26\u53f7\uff1a",e.username),r.a.createElement("p",null,"\u624b\u673a\u53f7\uff1a",e.mobile),r.a.createElement("p",null,"\u6635\u79f0\uff1a",e.nickname),r.a.createElement("p",null,"\u6027\u522b\uff1a",a),r.a.createElement("p",null,"\u90ae\u7bb1\uff1a",e.email||"\u672a\u8bbe\u7f6e"),r.a.createElement("p",null,"\u751f\u65e5\uff1a",e.birthday||"\u672a\u8bbe\u7f6e"),r.a.createElement("p",null,"\u804c\u4e1a\uff1a",e.job||"\u672a\u8bbe\u7f6e"),r.a.createElement("p",null,"\u5730\u5740\uff1a",e.address||"\u672a\u8bbe\u7f6e"))))}}]),t}(r.a.Component)),R=(a(363),a(386)),q=[],F=0;F<15;F++)q.push({href:"http://ant.design",title:"ant design part Index ".concat(F),avatar:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png",description:"Ant Design, a design language for background applications, is refined by Ant UED Team.",content:"We supply a series of design principles, practical patterns and high quality design resources (Sketch and Axure), to help people create their product prototypes beautifully and efficiently."});var G=function(e){var t=e.type,a=e.text;return r.a.createElement("span",null,r.a.createElement(M.a,{type:t,style:{marginRight:8}}),a)},H=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"user-fork"},r.a.createElement("div",{className:"title"},"\u6211\u7684\u6536\u85cf"),r.a.createElement(R.a,{itemLayout:"vertical",size:"large",pagination:{onChange:function(e){console.log(e)},pageSize:2},dataSource:q,footer:r.a.createElement("div",null,r.a.createElement("b",null,"ant design")," footer part"),renderItem:function(e){return r.a.createElement(R.a.Item,{key:e.title,actions:[r.a.createElement(G,{type:"star-o",text:"156"}),r.a.createElement(G,{type:"like-o",text:"156"}),r.a.createElement(G,{type:"message",text:"2"})],extra:r.a.createElement("img",{width:272,alt:"logo",src:"https://gw.alipayobjects.com/zos/rmsportal/mqaQswcyDLcXyDKnZfES.png"})},r.a.createElement(R.a.Item.Meta,{avatar:r.a.createElement(h.a,{src:e.avatar}),title:r.a.createElement("a",{href:e.href},e.title),description:e.description}),e.content)}}))}}]),t}(r.a.Component),K=a(194),Z=(a(371),a(393)),W=a(192),P=a.n(W),Q=3,B="https://randomuser.me/api/?results=".concat(Q,"&inc=name,gender,email,nat&noinfo"),$=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={initLoading:!0,loading:!1,data:[],list:[]},a.getData=function(e){P()({url:B,type:"json",method:"get",contentType:"application/json",success:function(t){e(t)}})},a.onLoadMore=function(){a.setState({loading:!0,list:a.state.data.concat(Object(K.a)(new Array(Q)).map(function(){return{loading:!0,name:{}}}))}),a.getData(function(e){var t=a.state.data.concat(e.results);a.setState({data:t,list:t,loading:!1},function(){window.dispatchEvent(new Event("resize"))})})},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.getData(function(t){e.setState({initLoading:!1,data:t.results,list:t.results})})}},{key:"render",value:function(){var e=this.state,t=e.initLoading,a=e.loading,n=e.list,l=t||a?null:r.a.createElement("div",{style:{textAlign:"center",marginTop:12,height:32,lineHeight:"32px"}},r.a.createElement(O.a,{onClick:this.onLoadMore},"loading more"));return r.a.createElement("div",{className:"user-watch"},r.a.createElement("div",{className:"title"},"\u6211\u7684\u5173\u6ce8"),r.a.createElement(R.a,{className:"demo-loadmore-list",loading:t,itemLayout:"horizontal",loadMore:l,dataSource:n,renderItem:function(e){return r.a.createElement(R.a.Item,{actions:[r.a.createElement("a",null,"edit"),r.a.createElement("a",null,"more")]},r.a.createElement(Z.a,{avatar:!0,title:!1,loading:e.loading,active:!0},r.a.createElement(R.a.Item.Meta,{avatar:r.a.createElement(h.a,{src:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png"}),title:r.a.createElement("a",{href:"https://ant.design"},e.name.last),description:"Ant Design, a design language for background applications, is refined by Ant UED Team"}),r.a.createElement("div",null,"content")))}}))}}]),t}(r.a.Component),ee=(a(373),a(389)),te=a(140),ae=a(381);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ne=a(382),re=a(193),le=a.n(re);a(375);L.a.locale("zh-cn"),i.a.render(r.a.createElement(ne.a,{locale:le.a},r.a.createElement(function(){var e=[r.a.createElement(ee.a.Item,{key:"home"},r.a.createElement("a",{href:"http://47.101.39.237/"},"\u9996\u9875")),r.a.createElement(ee.a.Item,{key:"user"},"\u7528\u6237")];return r.a.createElement(c.a,{basename:"/user"},r.a.createElement("div",{className:"wrapper"},r.a.createElement("header",null,r.a.createElement(ee.a,null,e)),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"left-menu"},r.a.createElement(te.b,{defaultSelectedKeys:["1"],mode:"inline"},r.a.createElement(te.b.Item,{key:"1"},r.a.createElement(c.b,{exact:!0,to:"/"},r.a.createElement(M.a,{type:"home"}),"\u4e2a\u4eba\u8d44\u6599")),r.a.createElement(te.b.Item,{key:"2"},r.a.createElement(c.b,{to:"/fork"},r.a.createElement(M.a,{type:"fork"}),"\u6211\u7684\u6536\u85cf")),r.a.createElement(te.b.Item,{key:"3"},r.a.createElement(c.b,{to:"/watch"},r.a.createElement(M.a,{type:"heart"}),"\u6211\u7684\u5173\u6ce8")),r.a.createElement(ae.a,{orientation:"left"},"\u672a\u5f00\u53d1\u90e8\u4efd"),r.a.createElement(te.b.Item,{key:"4"},r.a.createElement(M.a,{type:"user"}),"\u6211\u7684\u535a\u5ba2"),r.a.createElement(te.b.Item,{key:"5"},r.a.createElement(M.a,{type:"download"}),"\u6211\u7684\u4e0b\u8f7d"))),r.a.createElement("div",{className:"right-menu"},r.a.createElement(o.a,{exact:!0,path:"/",component:Y}),r.a.createElement(o.a,{path:"/fork",component:H}),r.a.createElement(o.a,{path:"/watch",component:$})))))},null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[197,1,2]]]);
//# sourceMappingURL=main.a1ef487a.chunk.js.map